plugins {
	id 'antlr'
	id 'java'
	id 'checkstyle'
}

repositories {
	mavenCentral()
}

dependencies {
	antlr 'org.antlr:antlr4:4.13.2'
	checkstyle 'com.puppycrawl.tools:checkstyle:10.23.0'
}

tasks.named('generateGrammarSource').configure {
	outputDirectory = file("${layout.buildDirectory.get()}/generated-src/antlr/main/com/company")
	arguments = ['-visitor', '-no-listener', '-package', 'com.company']
}

tasks.withType(Checkstyle).configureEach {
	exclude(['**/com/company/Hello*'])
}
